#!/usr/bin/env zsh

if [ -n "$DISPLAY" ]; then
    arg="-c"
fi

if [ -z "$@" ]; then
    # emacsclient requires you to run on something, can't just
    # pop open a window.
    arg="$arg $HOME"
else
    arg="$arg $@"
fi

# By launching emacsclient through an interactive zsh,
# we know we get the emacsclient from the $PATH we want.
zsh -i -c "emacsclient --alternate-editor=\"\" $arg"
